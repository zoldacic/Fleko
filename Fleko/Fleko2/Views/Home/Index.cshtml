@{
    ViewBag.Title = "Index";
}

<script>
    function errorHandler(e) {
        var msg = '';

        switch (e.code) {
            case FileError.QUOTA_EXCEEDED_ERR:
                msg = 'QUOTA_EXCEEDED_ERR';
                break;
            case FileError.NOT_FOUND_ERR:
                msg = 'NOT_FOUND_ERR';
                break;
            case FileError.SECURITY_ERR:
                msg = 'SECURITY_ERR';
                break;
            case FileError.INVALID_MODIFICATION_ERR:
                msg = 'INVALID_MODIFICATION_ERR';
                break;
            case FileError.INVALID_STATE_ERR:
                msg = 'INVALID_STATE_ERR';
                break;
            default:
                msg = 'Unknown Error';
                break;
        };

        alert('Error: ' + msg);
        console.log('Error: ' + msg);
    }

    function onInitFs(fs) {
        alert('Opened file system: ' + fs.name);
        console.log('Opened file system: ' + fs.name);
    }

    //window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024 /*5MB*/, onInitFs, errorHandler);

    //var inputElement = document.getElementById("inputField");
    //inputElement.addEventListener("change", handleFiles, false);
    //function handleFiles() {
    //    var fileList = this.files; /* now you can work with the file list */
    //    alert(fileList);
    //    var selected_file = $('#input').get(0).files[0];
    //    alert(selected_file);
    //}

</script>

<h2>Index</h2>

@using (Html.BeginForm("Upload", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)
    <fieldset>
        Select a file
        <input type="file" name="file" />
        <input type="submit" value="Upload" />
    </fieldset>
}

